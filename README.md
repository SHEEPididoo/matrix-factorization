# æ¨èç³»ç»Ÿå®ç°ï¼ˆRecommendation Systemsï¼‰

æœ¬è¯¾ç¨‹é¡¹ç›®å®ç°äº†å¤šç§æ¨èç³»ç»Ÿç®—æ³•ï¼ŒåŒ…æ‹¬åŸºäºå†…å®¹çš„æ¨èã€ååŒè¿‡æ»¤ï¼ˆç”¨æˆ·-ç”¨æˆ·ã€ç‰©å“-ç‰©å“ï¼‰å’ŒåŸºäºçŸ©é˜µåˆ†è§£çš„æ¨¡å‹ã€‚

## ğŸ“š è¯¾ç¨‹å†…å®¹

**Build a basic recommender using content-based filtering and implement user-user and item-item collaborative filtering.**

æœ¬è¯¾ç¨‹æ¶µç›–ä»¥ä¸‹æ¨èç³»ç»Ÿæ–¹æ³•ï¼š

1. **åŸºäºå†…å®¹çš„æ¨èï¼ˆContent-Based Filteringï¼‰** - ğŸ“˜ [å­¦ä¹ é¡ºåºï¼šç¬¬1ä¸ª](#-ç¬¬ä¸€é˜¶æ®µåŸºç¡€æ¨èç³»ç»Ÿæ–¹æ³•)
2. **ååŒè¿‡æ»¤ï¼ˆCollaborative Filteringï¼‰** - ğŸ“˜ [å­¦ä¹ é¡ºåºï¼šç¬¬2-3ä¸ª](#-ç¬¬ä¸€é˜¶æ®µåŸºç¡€æ¨èç³»ç»Ÿæ–¹æ³•)
   - ç”¨æˆ·-ç”¨æˆ·ååŒè¿‡æ»¤ï¼ˆUser-User CFï¼‰
   - ç‰©å“-ç‰©å“ååŒè¿‡æ»¤ï¼ˆItem-Item CFï¼‰
3. **åŸºäºæ¨¡å‹çš„ååŒè¿‡æ»¤ï¼ˆModel-Based CFï¼‰** - ğŸ“˜ [å­¦ä¹ é¡ºåºï¼šç¬¬4ä¸ª](#-ç¬¬äºŒé˜¶æ®µé«˜çº§æ¨¡å‹æ–¹æ³•)
   - çŸ©é˜µåˆ†è§£ï¼ˆMatrix Factorizationï¼‰
   - æ ¸çŸ©é˜µåˆ†è§£ï¼ˆKernel Matrix Factorizationï¼‰
4. **æ¨èç³»ç»Ÿè¯„ä¼°ä¸å®é™…å®ç°** - ğŸ“˜ [å­¦ä¹ é¡ºåºï¼šç¬¬5ä¸ª](#-ç¬¬ä¸‰é˜¶æ®µè¯„ä¼°ä¸å®è·µ)
   - è¯„ä¼°æŒ‡æ ‡ã€ç›¸ä¼¼åº¦åº¦é‡ã€ç¦»çº¿/åœ¨çº¿è¯„ä¼°ã€å†·å¯åŠ¨é—®é¢˜

---

## ğŸ¯ æ¨èç³»ç»Ÿæ–¹æ³•è¯¦è§£

### 1. åŸºäºå†…å®¹çš„æ¨èï¼ˆContent-Based Filteringï¼‰

**æ ¸å¿ƒæ€æƒ³ï¼š**
- é€šè¿‡åˆ†æç‰©å“çš„ç‰¹å¾ï¼ˆå¦‚ç”µå½±çš„ç±»å‹ã€æ¼”å‘˜ã€å¯¼æ¼”ç­‰ï¼‰æ¥æ¨èä¸ç”¨æˆ·å†å²åå¥½ç›¸ä¼¼çš„ç‰©å“
- å¦‚æœç”¨æˆ·å–œæ¬¢æŸä¸ªç‰©å“ï¼Œé‚£ä¹ˆå…·æœ‰ç›¸ä¼¼ç‰¹å¾çš„å…¶ä»–ç‰©å“ä¹Ÿåº”è¯¥è¢«æ¨è

**å·¥ä½œåŸç†ï¼š**
1. æå–ç‰©å“ç‰¹å¾ï¼ˆå¦‚ç”µå½±ç±»å‹ã€æ¼”å‘˜ã€å¯¼æ¼”ç­‰ï¼‰
2. æ„å»ºç”¨æˆ·åå¥½æ¡£æ¡ˆï¼ˆåŸºäºç”¨æˆ·å†å²è¯„åˆ†ï¼‰
3. è®¡ç®—ç‰©å“ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼ˆåŸºäºç‰¹å¾ï¼‰
4. æ¨èä¸ç”¨æˆ·åå¥½æœ€ç›¸ä¼¼çš„ç‰©å“

**ä¼˜ç‚¹ï¼š**
- âœ… **å¯è§£é‡Šæ€§å¼º**ï¼šå¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆæ¨èæŸä¸ªç‰©å“ï¼ˆåŸºäºç‰¹å¾ç›¸ä¼¼åº¦ï¼‰
- âœ… **å†·å¯åŠ¨å‹å¥½**ï¼šæ–°ç”¨æˆ·åªè¦æœ‰å†å²åå¥½å°±èƒ½æ¨èï¼Œæ–°ç‰©å“åªè¦æœ‰ç‰¹å¾å°±èƒ½è¢«æ¨è
- âœ… **ä¸å—æµè¡Œåº¦å½±å“**ï¼šä¸ä¼šå› ä¸ºç‰©å“æµè¡Œå°±æ¨èï¼Œå¯ä»¥æ¨èå°ä¼—ä½†ç¬¦åˆç”¨æˆ·åå¥½çš„ç‰©å“

**ç¼ºç‚¹ï¼š**
- âŒ **ç‰¹å¾å·¥ç¨‹å¤æ‚**ï¼šéœ€è¦æå–å’Œé€‰æ‹©å¥½çš„ç‰¹å¾
- âŒ **æ¨èå¤šæ ·æ€§æœ‰é™**ï¼šå¯èƒ½è¿‡åº¦æ¨èç›¸ä¼¼ç‰©å“
- âŒ **æ— æ³•å‘ç°æ–°å…´è¶£**ï¼šåªèƒ½åŸºäºå·²æœ‰åå¥½æ¨è

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```python
from matrix_factorization import ContentBasedRecommender
import pandas as pd

# åŠ è½½æ•°æ®å’Œç‰©å“ç‰¹å¾
movie_data = pd.read_csv('data/ml-100k/u.data', ...)
item_features = pd.read_csv('data/ml-100k/u.item', ...)  # åŒ…å«ç”µå½±ç±»å‹ç­‰ç‰¹å¾

# è®­ç»ƒæ¨¡å‹
model = ContentBasedRecommender(min_rating=1, max_rating=5)
model.fit(X_train, y_train, item_features=item_features)

# ç”Ÿæˆæ¨è
recommendations = model.recommend(user=200, amount=10)
```

---

### 2. ç”¨æˆ·-ç”¨æˆ·ååŒè¿‡æ»¤ï¼ˆUser-User Collaborative Filteringï¼‰

**æ ¸å¿ƒæ€æƒ³ï¼š**
- é€šè¿‡æ‰¾åˆ°ä¸ç›®æ ‡ç”¨æˆ·ç›¸ä¼¼çš„å…¶ä»–ç”¨æˆ·ï¼Œç„¶åæ¨èè¿™äº›ç›¸ä¼¼ç”¨æˆ·å–œæ¬¢çš„ç‰©å“
- ç›¸ä¼¼çš„ç”¨æˆ·ä¼šæœ‰ç›¸ä¼¼çš„åå¥½

**å·¥ä½œåŸç†ï¼š**
1. æ„å»ºç”¨æˆ·-ç‰©å“è¯„åˆ†çŸ©é˜µ
2. è®¡ç®—ç”¨æˆ·ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼ˆä½™å¼¦ç›¸ä¼¼åº¦æˆ–çš®å°”é€Šç›¸å…³ç³»æ•°ï¼‰
3. æ‰¾åˆ°ä¸ç›®æ ‡ç”¨æˆ·æœ€ç›¸ä¼¼çš„Kä¸ªç”¨æˆ·
4. åŸºäºç›¸ä¼¼ç”¨æˆ·çš„è¯„åˆ†ï¼ŒåŠ æƒé¢„æµ‹ç›®æ ‡ç”¨æˆ·å¯¹ç‰©å“çš„è¯„åˆ†

**é¢„æµ‹å…¬å¼ï¼š**
```
pred(u, i) = mean_u + Î£(sim(u, v) Ã— (rating(v, i) - mean_v)) / Î£|sim(u, v)|
```
å…¶ä¸­ï¼š
- `u` æ˜¯ç›®æ ‡ç”¨æˆ·
- `i` æ˜¯ç›®æ ‡ç‰©å“
- `v` æ˜¯ç›¸ä¼¼ç”¨æˆ·
- `sim(u, v)` æ˜¯ç”¨æˆ·ç›¸ä¼¼åº¦
- `mean_u` æ˜¯ç”¨æˆ·uçš„å¹³å‡è¯„åˆ†

**ä¼˜ç‚¹ï¼š**
- âœ… **èƒ½å¤Ÿå‘ç°ç”¨æˆ·çš„æ½œåœ¨å…´è¶£**ï¼šé€šè¿‡ç›¸ä¼¼ç”¨æˆ·å‘ç°æ–°ç‰©å“
- âœ… **æ¨èå¤šæ ·æ€§å¥½**ï¼šå¯ä»¥æ¨èä¸åŒç±»å‹çš„ç‰©å“
- âœ… **ä¸éœ€è¦ç‰©å“ç‰¹å¾**ï¼šåªéœ€è¦ç”¨æˆ·-ç‰©å“è¯„åˆ†çŸ©é˜µ

**ç¼ºç‚¹ï¼š**
- âŒ **å†·å¯åŠ¨é—®é¢˜**ï¼šæ–°ç”¨æˆ·æ²¡æœ‰è¶³å¤Ÿè¯„åˆ†ï¼Œéš¾ä»¥æ‰¾åˆ°ç›¸ä¼¼ç”¨æˆ·
- âŒ **ç¨€ç–æ€§é—®é¢˜**ï¼šç”¨æˆ·-ç‰©å“çŸ©é˜µé€šå¸¸å¾ˆç¨€ç–
- âŒ **è®¡ç®—å¤æ‚åº¦é«˜**ï¼šéœ€è¦è®¡ç®—æ‰€æœ‰ç”¨æˆ·ä¹‹é—´çš„ç›¸ä¼¼åº¦
- âŒ **å¯æ‰©å±•æ€§å·®**ï¼šç”¨æˆ·æ•°é‡å¢é•¿æ—¶ï¼Œç›¸ä¼¼åº¦çŸ©é˜µä¼šå˜å¾—éå¸¸å¤§

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```python
from matrix_factorization import UserUserCF

# è®­ç»ƒæ¨¡å‹
model = UserUserCF(
    min_rating=1, 
    max_rating=5, 
    n_neighbors=50,  # ä½¿ç”¨50ä¸ªæœ€ç›¸ä¼¼çš„ç”¨æˆ·
    similarity_metric='cosine'
)
model.fit(X_train, y_train)

# ç”Ÿæˆæ¨è
recommendations = model.recommend(user=200, amount=10)
```

---

### 3. ç‰©å“-ç‰©å“ååŒè¿‡æ»¤ï¼ˆItem-Item Collaborative Filteringï¼‰

**æ ¸å¿ƒæ€æƒ³ï¼š**
- é€šè¿‡æ‰¾åˆ°ä¸ç›®æ ‡ç‰©å“ç›¸ä¼¼çš„å…¶ä»–ç‰©å“ï¼Œç„¶ååŸºäºç”¨æˆ·å¯¹è¿™äº›ç›¸ä¼¼ç‰©å“çš„è¯„åˆ†æ¥é¢„æµ‹
- ç›¸ä¼¼çš„ç‰©å“ä¼šæ”¶åˆ°ç›¸ä¼¼çš„è¯„åˆ†

**å·¥ä½œåŸç†ï¼š**
1. æ„å»ºç”¨æˆ·-ç‰©å“è¯„åˆ†çŸ©é˜µ
2. è®¡ç®—ç‰©å“ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼ˆä½™å¼¦ç›¸ä¼¼åº¦æˆ–çš®å°”é€Šç›¸å…³ç³»æ•°ï¼‰
3. æ‰¾åˆ°ä¸ç›®æ ‡ç‰©å“æœ€ç›¸ä¼¼çš„Kä¸ªç‰©å“
4. åŸºäºç”¨æˆ·å¯¹ç›¸ä¼¼ç‰©å“çš„è¯„åˆ†ï¼ŒåŠ æƒé¢„æµ‹ç”¨æˆ·å¯¹ç›®æ ‡ç‰©å“çš„è¯„åˆ†

**é¢„æµ‹å…¬å¼ï¼š**
```
pred(u, i) = mean_i + Î£(sim(i, j) Ã— (rating(u, j) - mean_j)) / Î£|sim(i, j)|
```
å…¶ä¸­ï¼š
- `u` æ˜¯ç›®æ ‡ç”¨æˆ·
- `i` æ˜¯ç›®æ ‡ç‰©å“
- `j` æ˜¯ç›¸ä¼¼ç‰©å“
- `sim(i, j)` æ˜¯ç‰©å“ç›¸ä¼¼åº¦
- `mean_i` æ˜¯ç‰©å“içš„å¹³å‡è¯„åˆ†

**ä¼˜ç‚¹ï¼š**
- âœ… **ç‰©å“ç›¸ä¼¼åº¦æ›´ç¨³å®š**ï¼šç‰©å“ç‰¹å¾å˜åŒ–è¾ƒæ…¢ï¼Œç›¸ä¼¼åº¦çŸ©é˜µå¯ä»¥é¢„å…ˆè®¡ç®—å’Œç¼“å­˜
- âœ… **å¯æ‰©å±•æ€§æ›´å¥½**ï¼šç‰©å“æ•°é‡é€šå¸¸è¿œå°‘äºç”¨æˆ·æ•°é‡ï¼Œç›¸ä¼¼åº¦çŸ©é˜µæ›´å°
- âœ… **æ¨èè§£é‡Šæ€§å¼º**ï¼šå¯ä»¥è§£é‡Šä¸º"å› ä¸ºæ‚¨å–œæ¬¢Xï¼Œè€ŒYä¸Xç›¸ä¼¼ï¼Œæ‰€ä»¥æ¨èY"
- âœ… **å®æ—¶æ¨èæ•ˆç‡é«˜**ï¼šå¯ä»¥å¿«é€Ÿä¸ºæ–°ç”¨æˆ·ç”Ÿæˆæ¨è

**ç¼ºç‚¹ï¼š**
- âŒ **å†·å¯åŠ¨é—®é¢˜**ï¼šæ–°ç‰©å“æ²¡æœ‰è¶³å¤Ÿè¯„åˆ†ï¼Œéš¾ä»¥æ‰¾åˆ°ç›¸ä¼¼ç‰©å“
- âŒ **ç¨€ç–æ€§é—®é¢˜**ï¼šç”¨æˆ·-ç‰©å“çŸ©é˜µé€šå¸¸å¾ˆç¨€ç–

**ä¸ºä»€ä¹ˆç‰©å“-ç‰©å“é€šå¸¸ä¼˜äºç”¨æˆ·-ç”¨æˆ·ï¼Ÿ**
- ç‰©å“æ•°é‡é€šå¸¸è¿œå°‘äºç”¨æˆ·æ•°é‡ï¼ˆå¦‚Netflixæœ‰æ•°äº¿ç”¨æˆ·ä½†åªæœ‰æ•°ä¸‡ç”µå½±ï¼‰
- ç‰©å“ç›¸ä¼¼åº¦æ›´ç¨³å®šï¼Œå¯ä»¥é¢„å…ˆè®¡ç®—
- æ¨èè§£é‡Šæ›´ç›´è§‚ï¼ˆ"å› ä¸ºæ‚¨å–œæ¬¢Xï¼Œæ¨èç›¸ä¼¼çš„Y"ï¼‰

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```python
from matrix_factorization import ItemItemCF

# è®­ç»ƒæ¨¡å‹
model = ItemItemCF(
    min_rating=1, 
    max_rating=5, 
    n_neighbors=50,  # ä½¿ç”¨50ä¸ªæœ€ç›¸ä¼¼çš„ç‰©å“
    similarity_metric='cosine'
)
model.fit(X_train, y_train)

# ç”Ÿæˆæ¨è
recommendations = model.recommend(user=200, amount=10)
```

---

### 4. åŸºäºæ¨¡å‹çš„ååŒè¿‡æ»¤ï¼ˆModel-Based CFï¼‰

#### 4.1 åŸºçº¿æ¨¡å‹ï¼ˆBaseline Modelï¼‰

ç®€å•çš„åå·®æ¨¡å‹ï¼Œå°†ç”¨æˆ·-ç‰©å“è¯„åˆ†å»ºæ¨¡ä¸ºï¼š
```
r_ui = Î¼ + bias_u + bias_i
```
å…¶ä¸­ï¼š
- `Î¼` æ˜¯å…¨å±€å¹³å‡è¯„åˆ†
- `bias_u` æ˜¯ç”¨æˆ·åå·®
- `bias_i` æ˜¯ç‰©å“åå·®

**è®­ç»ƒæ–¹æ³•ï¼š**
- **SGDï¼ˆéšæœºæ¢¯åº¦ä¸‹é™ï¼‰**ï¼šè¿­ä»£ä¼˜åŒ–ç”¨æˆ·å’Œç‰©å“åå·®
- **ALSï¼ˆäº¤æ›¿æœ€å°äºŒä¹˜æ³•ï¼‰**ï¼šäº¤æ›¿ä¼˜åŒ–ç”¨æˆ·åå·®å’Œç‰©å“åå·®

#### 4.2 çŸ©é˜µåˆ†è§£ï¼ˆMatrix Factorizationï¼‰

å°†ç”¨æˆ·-ç‰©å“è¯„åˆ†çŸ©é˜µåˆ†è§£ä¸ºä¸¤ä¸ªä½ç»´çŸ©é˜µï¼š
```
R â‰ˆ P Ã— Q^T
```
å…¶ä¸­ï¼š
- `P` æ˜¯ç”¨æˆ·ç‰¹å¾çŸ©é˜µ (n_users Ã— n_factors)
- `Q` æ˜¯ç‰©å“ç‰¹å¾çŸ©é˜µ (n_items Ã— n_factors)
- `n_factors` æ˜¯æ½œåœ¨å› å­æ•°é‡

**é¢„æµ‹å…¬å¼ï¼š**
```
r_ui = Î¼ + bias_u + bias_i + P_u Â· Q_i^T
```

**æ ¸å‡½æ•°ï¼š**
- **çº¿æ€§æ ¸ï¼ˆLinearï¼‰**ï¼šæ ‡å‡†ç‚¹ç§¯
- **Sigmoidæ ¸**ï¼šä½¿ç”¨sigmoidå‡½æ•°è¿›è¡Œéçº¿æ€§å˜æ¢
- **RBFæ ¸ï¼ˆå¾„å‘åŸºå‡½æ•°ï¼‰**ï¼šåŸºäºé«˜æ–¯æ ¸çš„ç›¸ä¼¼åº¦

**ä¼˜ç‚¹ï¼š**
- âœ… **å¤„ç†ç¨€ç–æ•°æ®**ï¼šé€šè¿‡æ½œåœ¨å› å­æ•è·ç”¨æˆ·å’Œç‰©å“çš„éšå«ç‰¹å¾
- âœ… **å¯æ‰©å±•æ€§å¥½**ï¼šå¯ä»¥å¤„ç†å¤§è§„æ¨¡æ•°æ®
- âœ… **åœ¨çº¿æ›´æ–°**ï¼šæ”¯æŒæ–°ç”¨æˆ·çš„åœ¨çº¿å­¦ä¹ 

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```python
from matrix_factorization import KernelMF

# è®­ç»ƒæ¨¡å‹
model = KernelMF(
    n_epochs=20,
    n_factors=100,
    kernel='linear',  # æˆ– 'sigmoid', 'rbf'
    lr=0.001,
    reg=0.005
)
model.fit(X_train, y_train)

# åœ¨çº¿æ›´æ–°æ–°ç”¨æˆ·
model.update_users(X_new_users, y_new_users, n_epochs=20)

# ç”Ÿæˆæ¨è
recommendations = model.recommend(user=200, amount=10)
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
week3/
â”œâ”€â”€ data/
â”‚   â””â”€â”€ ml-100k/                      # MovieLens 100Kæ•°æ®é›†
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ [0] example.py                        # å¿«é€Ÿç¤ºä¾‹ï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ [1] content-based-filtering.ipynb     # åŸºäºå†…å®¹æ¨èï¼ˆç¬¬1ä¸ªå­¦ä¹ ï¼‰
â”‚   â”œâ”€â”€ [2] user-user-cf.ipynb                # ç”¨æˆ·-ç”¨æˆ·ååŒè¿‡æ»¤ï¼ˆç¬¬2ä¸ªå­¦ä¹ ï¼‰
â”‚   â”œâ”€â”€ [3] item-item-cf.ipynb                # ç‰©å“-ç‰©å“ååŒè¿‡æ»¤ï¼ˆç¬¬3ä¸ªå­¦ä¹ ï¼‰
â”‚   â”œâ”€â”€ [4] recommender-system.ipynb          # çŸ©é˜µåˆ†è§£å®Œæ•´ç¤ºä¾‹ï¼ˆç¬¬4ä¸ªå­¦ä¹ ï¼‰
â”‚   â””â”€â”€ [5] recommender-evaluation.ipynb      # è¯„ä¼°ä¸å®é™…å®ç°ï¼ˆç¬¬5ä¸ªå­¦ä¹ ï¼‰
â”œâ”€â”€ matrix_factorization/
â”‚   â”œâ”€â”€ __init__.py                           # æ¨¡å—å¯¼å‡º
â”‚   â”œâ”€â”€ recommender_base.py                   # æ¨èç³»ç»ŸåŸºç±»
â”‚   â”œâ”€â”€ baseline_model.py                     # åŸºçº¿æ¨¡å‹
â”‚   â”œâ”€â”€ kernel_matrix_factorization.py        # æ ¸çŸ©é˜µåˆ†è§£
â”‚   â”œâ”€â”€ content_based.py                      # åŸºäºå†…å®¹æ¨è
â”‚   â”œâ”€â”€ collaborative_filtering.py            # ååŒè¿‡æ»¤ï¼ˆç”¨æˆ·-ç”¨æˆ·ã€ç‰©å“-ç‰©å“ï¼‰
â”‚   â”œâ”€â”€ kernels.py                            # æ ¸å‡½æ•°å®ç°
â”‚   â””â”€â”€ utils.py                              # å·¥å…·å‡½æ•°
â”œâ”€â”€ README.md                                  # æœ¬æ–‡ä»¶
â””â”€â”€ requirements.txt                           # ä¾èµ–åŒ…
```

**æ³¨æ„ï¼š** æ–‡ä»¶åå‰çš„ `[æ•°å­—]` è¡¨ç¤ºæ¨èçš„å­¦ä¹ é¡ºåº

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

---

## ğŸ“– å­¦ä¹ é¡ºåºï¼ˆæ¨èé˜…è¯»è·¯å¾„ï¼‰

æœ¬è¯¾ç¨‹å»ºè®®æŒ‰ç…§ä»¥ä¸‹é¡ºåºå­¦ä¹ ï¼Œä»åŸºç¡€åˆ°è¿›é˜¶ï¼Œå¾ªåºæ¸è¿›ï¼š

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¨èç³»ç»Ÿæ–¹æ³•

#### ğŸ“˜ 1. åŸºäºå†…å®¹çš„æ¨èï¼ˆContent-Based Filteringï¼‰
**æ–‡ä»¶ï¼š** `examples/content-based-filtering.ipynb`

**å­¦ä¹ ç›®æ ‡ï¼š**
- ç†è§£åŸºäºå†…å®¹çš„æ¨èåŸç†
- å­¦ä¹ å¦‚ä½•ä½¿ç”¨ç‰©å“ç‰¹å¾è¿›è¡Œæ¨è
- æŒæ¡ç‰¹å¾å·¥ç¨‹çš„åŸºæœ¬æ–¹æ³•

**ä¸ºä»€ä¹ˆå…ˆå­¦è¿™ä¸ªï¼Ÿ**
- æœ€ç›´è§‚æ˜“æ‡‚ï¼Œä¸éœ€è¦å…¶ä»–ç”¨æˆ·æ•°æ®
- å¯ä»¥å¤„ç†å†·å¯åŠ¨é—®é¢˜
- ä¸ºåç»­æ–¹æ³•æ‰“ä¸‹åŸºç¡€

---

#### ğŸ“˜ 2. ç”¨æˆ·-ç”¨æˆ·ååŒè¿‡æ»¤ï¼ˆUser-User Collaborative Filteringï¼‰
**æ–‡ä»¶ï¼š** `examples/user-user-cf.ipynb`

**å­¦ä¹ ç›®æ ‡ï¼š**
- ç†è§£ååŒè¿‡æ»¤çš„æ ¸å¿ƒæ€æƒ³
- å­¦ä¹ å¦‚ä½•è®¡ç®—ç”¨æˆ·ç›¸ä¼¼åº¦
- æŒæ¡åŸºäºç›¸ä¼¼ç”¨æˆ·çš„æ¨èæ–¹æ³•

**ä¸ºä»€ä¹ˆå­¦è¿™ä¸ªï¼Ÿ**
- ç†è§£"ç‰©ä»¥ç±»èšï¼Œäººä»¥ç¾¤åˆ†"çš„æ¨èæ€æƒ³
- å­¦ä¹ ç›¸ä¼¼åº¦åº¦é‡çš„åº”ç”¨
- ä¸ºç†è§£ç‰©å“-ç‰©å“ååŒè¿‡æ»¤åšå‡†å¤‡

---

#### ğŸ“˜ 3. ç‰©å“-ç‰©å“ååŒè¿‡æ»¤ï¼ˆItem-Item Collaborative Filteringï¼‰
**æ–‡ä»¶ï¼š** `examples/item-item-cf.ipynb`

**å­¦ä¹ ç›®æ ‡ï¼š**
- ç†è§£ç‰©å“ç›¸ä¼¼åº¦çš„æ¦‚å¿µ
- å­¦ä¹ æœ€å¸¸ç”¨çš„ååŒè¿‡æ»¤æ–¹æ³•
- æŒæ¡ä¸ºä»€ä¹ˆç‰©å“-ç‰©å“é€šå¸¸ä¼˜äºç”¨æˆ·-ç”¨æˆ·

**ä¸ºä»€ä¹ˆå­¦è¿™ä¸ªï¼Ÿ**
- è¿™æ˜¯å®é™…åº”ç”¨ä¸­æœ€å¸¸ç”¨çš„æ–¹æ³•
- ç†è§£å¯æ‰©å±•æ€§çš„é‡è¦æ€§
- å­¦ä¹ æ¨èç³»ç»Ÿçš„å·¥ç¨‹å®è·µ

---

### ç¬¬äºŒé˜¶æ®µï¼šé«˜çº§æ¨¡å‹æ–¹æ³•

#### ğŸ“˜ 4. çŸ©é˜µåˆ†è§£ï¼ˆMatrix Factorizationï¼‰
**æ–‡ä»¶ï¼š** `examples/recommender-system.ipynb`

**å­¦ä¹ ç›®æ ‡ï¼š**
- ç†è§£çŸ©é˜µåˆ†è§£çš„åŸç†
- å­¦ä¹ æ½œåœ¨å› å­æ¨¡å‹
- æŒæ¡ä¸åŒæ ¸å‡½æ•°çš„ä½¿ç”¨
- å­¦ä¹ åœ¨çº¿æ›´æ–°æœºåˆ¶

**ä¸ºä»€ä¹ˆå­¦è¿™ä¸ªï¼Ÿ**
- ç†è§£ç°ä»£æ¨èç³»ç»Ÿçš„æ ¸å¿ƒç®—æ³•
- å­¦ä¹ å¦‚ä½•å¤„ç†å¤§è§„æ¨¡ç¨€ç–æ•°æ®
- æŒæ¡æ¨¡å‹è®­ç»ƒå’Œè°ƒä¼˜æ–¹æ³•

**åŒ…å«å†…å®¹ï¼š**
- åŸºçº¿æ¨¡å‹ï¼ˆBaseline Modelï¼‰
- çŸ©é˜µåˆ†è§£ï¼ˆçº¿æ€§æ ¸ã€Sigmoidæ ¸ã€RBFæ ¸ï¼‰
- åœ¨çº¿å­¦ä¹ ï¼ˆOnline Learningï¼‰
- Scikit-learnå…¼å®¹æ€§

---

### ç¬¬ä¸‰é˜¶æ®µï¼šè¯„ä¼°ä¸å®è·µ

#### ğŸ“˜ 5. æ¨èç³»ç»Ÿè¯„ä¼°ä¸å®é™…å®ç°
**æ–‡ä»¶ï¼š** `examples/recommender-evaluation.ipynb`

**å­¦ä¹ ç›®æ ‡ï¼š**
- æŒæ¡æ¨èç³»ç»Ÿçš„è¯„ä¼°æŒ‡æ ‡
- ç†è§£ç›¸ä¼¼åº¦åº¦é‡çš„åŸç†
- å­¦ä¹ ç¦»çº¿è¯„ä¼°å’Œåœ¨çº¿A/Bæµ‹è¯•
- è§£å†³å†·å¯åŠ¨é—®é¢˜
- æ„å»ºå®Œæ•´çš„è¯„ä¼°ç®¡é“

**ä¸ºä»€ä¹ˆæœ€åå­¦è¿™ä¸ªï¼Ÿ**
- éœ€è¦å…ˆç†è§£å„ç§æ¨èæ–¹æ³•
- è¯„ä¼°æ–¹æ³•é€‚ç”¨äºæ‰€æœ‰æ¨¡å‹
- è¿™æ˜¯å®é™…é¡¹ç›®ä¸­çš„å…³é”®æŠ€èƒ½

**åŒ…å«å†…å®¹ï¼š**
- è¯„ä¼°æŒ‡æ ‡ï¼šRMSE, Precision, Recall, F1-score
- ç›¸ä¼¼åº¦åº¦é‡ï¼šä½™å¼¦ç›¸ä¼¼åº¦ã€æ¬§æ°è·ç¦»ã€çš®å°”é€Šç›¸å…³ç³»æ•°
- ç¦»çº¿è¯„ä¼° vs åœ¨çº¿A/Bæµ‹è¯•
- å†·å¯åŠ¨é—®é¢˜åŠå¤„ç†ç­–ç•¥
- æ¨¡å‹æ€§èƒ½æ¯”è¾ƒ

---

## ğŸ§© Week4â€“Week8 é¡¹ç›®æ¨¡æ¿ï¼ˆè¯¾ç¨‹å¤§ä½œä¸šï¼‰

ä¸ºäº†è®©å­¦å‘˜åœ¨ Week3 çš„ä»£ç åŸºç¡€ä¸Šåšä¸€ä¸ªâ€œå¯å¤ç°ã€å¯å¯¹æ¯”ã€å¯äº¤äº’â€çš„å®Œæ•´æ¨èç³»ç»Ÿé¡¹ç›®ï¼Œæœ¬ä»“åº“æä¾›äº†é¡¹ç›®æ¨¡æ¿ï¼š

- **æ¨¡æ¿ç›®å½•**ï¼š`project_template/`
- **å‘¨è®¡åˆ’**ï¼š`project_template/docs/WEEK_PLAN.md`
- **æ¯å‘¨ Check-in æ¨¡æ¿**ï¼š`project_template/docs/CHECKINS.md`
- **è¯„åˆ† Rubric**ï¼š`project_template/docs/RUBRIC.md`
- **æµæ°´çº¿è„šæœ¬**ï¼š`project_template/pipeline/`
- **Demo APIï¼ˆFastAPIï¼‰**ï¼š`project_template/app/api.py`

> æ³¨ï¼šLLM/Embedding ä¸ Demo ä¾èµ–æ”¾åœ¨ `project_template/requirements-optional.txt`ï¼Œé¿å…å½±å“ Week3 çš„åŸºç¡€ç¯å¢ƒã€‚

### æ¨¡æ¿ç›®å½•ç»“æ„ï¼ˆå»ºè®®ä¿æŒä¸å˜ï¼‰

```
project_template/
  data/                 # åŸå§‹/æ¸…æ´—åçš„æ•°æ®ï¼ˆå»ºè®®ç”¨ .parquetï¼‰
  features/             # ç¼“å­˜çš„ç‰¹å¾ï¼ˆembeddingã€æ ‡ç­¾ã€ç»Ÿè®¡ç‰¹å¾ç­‰ï¼‰
  artifacts/            # è®­ç»ƒå¥½çš„æ¨¡å‹ä¸ç´¢å¼•ï¼ˆå¯ç›´æ¥ç”¨äº demoï¼‰
  pipeline/             # æ•°æ®/ç‰¹å¾/è®­ç»ƒ/è¯„ä¼°è„šæœ¬
  app/                  # Demoï¼ˆAPI æˆ– UIï¼‰
  docs/                 # å‘¨è®¡åˆ’ã€check-inã€rubricã€è¯´æ˜æ–‡æ¡£
```

### æ•°æ®å¥‘çº¦ï¼ˆæ‰€æœ‰è„šæœ¬é»˜è®¤éµå®ˆï¼‰

#### 1) äº¤äº’è¡¨ï¼ˆratingsï¼‰

æ–‡ä»¶ï¼š`project_template/data/ratings.parquet`

å¿…é¡»åŒ…å«åˆ—ï¼š
- `user_id`
- `item_id`
- `rating`

å¯é€‰åˆ—ï¼š
- `timestamp`

#### 2) ç‰©å“è¡¨ï¼ˆitemsï¼‰

æ–‡ä»¶ï¼š`project_template/data/items.parquet`

å¿…é¡»åŒ…å«åˆ—ï¼š
- `item_id`
- `text`ï¼ˆç”¨äº embedding/LLM çš„æ–‡æœ¬å­—æ®µï¼šæ ‡é¢˜+ç®€ä»‹/æ ‡ç­¾/è¯„è®ºæ‹¼æ¥å‡å¯ï¼‰

### Demo å¿«é€Ÿè·‘é€šï¼ˆæ¨èè¯¾å ‚ç”¨æ³•ï¼‰

#### 0) å®‰è£…å¯é€‰ä¾èµ–ï¼ˆEmbedding / Demo / UIï¼‰

```bash
pip install -r project_template/requirements-optional.txt
```

#### 1) ä¸€é”®ç”Ÿæˆç¤ºä¾‹æ•°æ®ï¼ˆMovieLens å°æ ·æœ¬ï¼Œå¯é€‰ä½†æ¨èï¼‰

```bash
python -m project_template.pipeline.download_movielens_small --sample-users 500 --min-interactions 10
```

ä¼šç”Ÿæˆï¼š
- `project_template/data/ratings.parquet`
- `project_template/data/items.parquet`

> å¦‚æœä½ ä½¿ç”¨è‡ªé€‰æ•°æ®é›†ï¼šè¯·ç¡®ä¿ç”ŸæˆåŒå parquetï¼Œå¹¶æ»¡è¶³æœ¬èŠ‚ã€Œæ•°æ®å¥‘çº¦ã€ï¼ˆ`ratings: user_id,item_id,rating`ï¼›`items: item_id,text`ï¼‰ã€‚

#### 2) ç”Ÿæˆæ–‡æœ¬ Embeddingï¼ˆç¼“å­˜åˆ° features/ï¼‰

```bash
python -m project_template.pipeline.build_item_embeddings
```

äº§ç‰©ï¼š
- `project_template/features/items_emb.parquet`

#### 3) è®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼ˆä¿å­˜åˆ° artifacts/ï¼‰

```bash
python -m project_template.pipeline.train --model kernel_mf --kernel linear
```

å¯é€‰æ¨¡å‹ï¼š
- `--model baseline`
- `--model kernel_mf`ï¼ˆå¯é… `--kernel linear|sigmoid|rbf`ï¼‰
- `--model item_cf`
- `--model user_cf`

äº§ç‰©ï¼š
- `project_template/artifacts/model.pkl`

#### 4) å¯¼å‡º Demo ç´¢å¼•ï¼ˆembedding æ£€ç´¢ç”¨ï¼‰

```bash
python -m project_template.pipeline.export_artifacts
```

äº§ç‰©ï¼š
- `project_template/artifacts/item_index.pkl`

#### 5) ç¦»çº¿è¯„ä¼°ï¼ˆç®€åŒ–ç‰ˆ Top-Kï¼‰

```bash
python -m project_template.pipeline.evaluate --k 10 --positive-threshold 4.0
```

è¾“å‡ºï¼š
- `Precision@K / Recall@K / NDCG@K`

#### 6A) å¯åŠ¨ Demo APIï¼ˆFastAPIï¼‰

```bash
python -m project_template.app.api
```

æ‰“å¼€ Swaggerï¼š
- `http://127.0.0.1:8000/docs`

#### 6B) å¯åŠ¨è¯¾å ‚å±•ç¤º UIï¼ˆStreamlitï¼Œæ›´æ¨èï¼‰

```bash
streamlit run project_template/app/streamlit_app.py
```

ä½ å¯ä»¥åœ¨ UI é‡Œï¼š
- è¾“å…¥è‡ªç”±æ–‡æœ¬ queryï¼ˆå¦‚â€œè½»æ¾æç¬‘çš„æ¸¸æˆâ€ï¼‰
- ï¼ˆå¯é€‰ï¼‰è¾“å…¥ `user_id` åšä¸ªæ€§åŒ–æ··åˆæ’åºï¼ˆalpha å¯è°ƒï¼‰

ç¤ºä¾‹ï¼ˆæœ¬ä»“åº“å½“å‰ Steam å°æ ·æœ¬æ•°æ®ä¸­å­˜åœ¨çš„ `user_id`ï¼Œå¯ç›´æ¥å¤åˆ¶åˆ° UIï¼‰ï¼š
- `101142088`
- `101596530`
- `101878879`
- `102270213`
- `102295765`

å¦‚æœä½ ç”¨çš„æ˜¯è‡ªå·±çš„æ•°æ®é›†ï¼šç”¨ä¸‹é¢å‘½ä»¤æŸ¥çœ‹ä¸€äº›å¯ç”¨çš„ `user_id`ï¼š

```bash
python -c "import pandas as pd; r=pd.read_parquet('project_template/data/ratings.parquet'); print(r['user_id'].head(20).tolist())"
```

---

### ğŸ å‰©ä½™ä¸‰æ¬¡è¯¾å†²åˆºè®¡åˆ’ï¼ˆå»ºè®®ï¼‰

> ç›®æ ‡ï¼šä¸‰æ¬¡è¯¾å†…åšå‡ºã€Œå¯å¤ç° + å¯å¯¹æ¯” + å¯äº¤äº’ã€çš„è½»é‡é¡¹ç›®ä½œä¸šï¼ˆæ¨è Steam è½»é‡æ•°æ®ï¼š`steam-200k.csv` + `steam-store-games`ï¼‰ã€‚

#### ç¬¬ 1 æ¬¡è¯¾ï¼ˆä»Šå¤©ï¼‰è¦å®Œæˆä»€ä¹ˆï¼ˆå¿…é¡»å®Œæˆï¼‰

- **æ•°æ®è½ç›˜ï¼ˆæ¨¡æ¿å¥‘çº¦ï¼‰**
  - ä¸‹è½½å¹¶è§£å‹åˆ° `project_template/data/`
  - è¿è¡Œè½¬æ¢è„šæœ¬ç”Ÿæˆï¼š
    - `project_template/data/ratings.parquet`
    - `project_template/data/items.parquet`

```bash
# Kaggle ä¸‹è½½ï¼ˆå·²é…ç½® kaggle tokenï¼‰
kaggle datasets download -d tamber/steam-video-games -p project_template/data --unzip
kaggle datasets download -d nikdavis/steam-store-games -p project_template/data --unzip

# è½¬æ¢ä¸ºæ¨¡æ¿æ‰€éœ€ parquetï¼ˆä¼šè‡ªåŠ¨æœ data/ ä¸‹çš„ steam-200k.csvã€steam.csv ç­‰ï¼‰
python -m project_template.pipeline.prepare_steam_light --mode play_only --transform log1p --min-interactions 10 --sample-users 500
```

- **Embedding ç¼“å­˜ï¼ˆWeek5 çš„æ ¸å¿ƒäº§ç‰©ï¼‰**
  - ç”Ÿæˆ `project_template/features/items_emb.parquet`

```bash
python -m project_template.pipeline.build_item_embeddings
```

- **è·‘é€š baseline & è¯„ä¼°ï¼ˆç¡®ä¿é—­ç¯èƒ½è·‘ï¼‰**
  - è®­ç»ƒä¸€ä¸ªæ¨¡å‹å¹¶è¯„ä¼° Top-Kï¼ˆè¾“å‡º Precision/Recall/NDCGï¼‰

```bash
python -m project_template.pipeline.train --model baseline
python -m project_template.pipeline.export_artifacts
python -m project_template.pipeline.evaluate --k 10 --positive-threshold 4.0
```

- **Demo è‡³å°‘è·‘èµ·æ¥ä¸€æ¬¡ï¼ˆéªŒæ”¶ç‚¹ï¼‰**
  - Streamlit æˆ– FastAPI äºŒé€‰ä¸€ï¼ˆå»ºè®® Streamlitï¼‰

```bash
streamlit run project_template/app/streamlit_app.py
# æˆ–ï¼špython -m project_template.app.api
```

ä»Šå¤©è¯¾ååº”æäº¤ï¼ˆç»™åŠ©æ•™/è€å¸ˆæ£€æŸ¥ï¼‰ï¼š
- `checkin_week4.md`ï¼ˆæ•°æ®æ¥æº + æ¸…æ´—ç»Ÿè®¡ + åˆ‡åˆ†ç­–ç•¥ï¼Œè§ `project_template/docs/CHECKINS.md`ï¼‰
- ä¸€å¼ è¯„ä¼°ç»“æœæˆªå›¾ï¼ˆ`Precision@K/Recall@K/NDCG@K` è¾“å‡ºå³å¯ï¼‰

#### ç¬¬ 2 æ¬¡è¯¾ï¼šæ¨¡å‹å¯¹æ¯” + å¢å¼ºï¼ˆè¦çœ‹åˆ°æå‡/å·®å¼‚ï¼‰

- **è‡³å°‘ä¸¤ç§æ¨¡å‹å¯¹æ¯”**ï¼š`KernelMF` +ï¼ˆ`ItemItemCF` æˆ– `UserUserCF`ï¼‰
- **åŠ å…¥å¢å¼º**ï¼šembedding å¬å› + æ··åˆæ’åºï¼ˆ`alpha` å¯è°ƒï¼‰æˆ–â€œå€™é€‰å¬å›â†’MF rerankâ€
- **Ablation**ï¼šæ— å¢å¼º vs æœ‰å¢å¼ºï¼ˆè‡³å°‘ä¸€ä¸ªæŒ‡æ ‡æœ‰å·®å¼‚ï¼‰

å»ºè®®å‘½ä»¤ï¼š

```bash
python -m project_template.pipeline.train --model kernel_mf --kernel linear
python -m project_template.pipeline.evaluate --k 10 --positive-threshold 4.0
```

#### ç¬¬ 3 æ¬¡è¯¾ï¼šæ‰“ç£¨ Demo + å¤ç° + è®²è§£ææ–™

- **å¤ç°è„šæœ¬é½å…¨**ï¼šä»ç©ºç¯å¢ƒåˆ° demo çš„å‘½ä»¤ä¸€æ¡æ¡å¯è·‘
- **Demo å±•ç¤º**ï¼šè‡ªç”±æ–‡æœ¬è¾“å…¥ +ï¼ˆå¯é€‰ï¼‰user_id ä¸ªæ€§åŒ– + è§£é‡Š
- **æœ€ç»ˆæŠ¥å‘Š**ï¼šè®¾è®¡é€‰æ‹©ã€ä¼˜åŠ¿/é™åˆ¶ã€å¤±è´¥æ¡ˆä¾‹ä¸ä¸‹ä¸€æ­¥ï¼ˆè§ `project_template/docs/RUBRIC.md`ï¼‰

### å¿«é€Ÿå‚è€ƒ

#### ğŸ“˜ 0. å¿«é€Ÿç¤ºä¾‹ï¼ˆå¯é€‰ï¼‰
**æ–‡ä»¶ï¼š** `examples/example.py`

**ç”¨é€”ï¼š**
- å¿«é€Ÿäº†è§£åŸºæœ¬ç”¨æ³•
- ä»£ç ç¤ºä¾‹å‚è€ƒ
- ä¸éœ€è¦æ·±å…¥å­¦ä¹ ï¼Œå¯ä½œä¸ºå¿«é€Ÿå‚è€ƒ

---

## ğŸ“š è¯¦ç»†å­¦ä¹ è·¯å¾„

### åˆå­¦è€…è·¯å¾„ï¼ˆæ¨èï¼‰

1. **ç¬¬ä¸€æ­¥**ï¼šé˜…è¯» `content-based-filtering.ipynb`
   - ç†è§£æ¨èç³»ç»Ÿçš„åŸºæœ¬æ¦‚å¿µ
   - å­¦ä¹ æœ€ç®€å•çš„æ¨èæ–¹æ³•

2. **ç¬¬äºŒæ­¥**ï¼šé˜…è¯» `user-user-cf.ipynb`
   - ç†è§£ååŒè¿‡æ»¤æ€æƒ³
   - å­¦ä¹ ç›¸ä¼¼åº¦è®¡ç®—

3. **ç¬¬ä¸‰æ­¥**ï¼šé˜…è¯» `item-item-cf.ipynb`
   - å­¦ä¹ æœ€å®ç”¨çš„ååŒè¿‡æ»¤æ–¹æ³•
   - ç†è§£ä¸ºä»€ä¹ˆç‰©å“-ç‰©å“æ›´å¸¸ç”¨

4. **ç¬¬å››æ­¥**ï¼šé˜…è¯» `recommender-system.ipynb`
   - æ·±å…¥å­¦ä¹ çŸ©é˜µåˆ†è§£
   - ç†è§£ç°ä»£æ¨èç³»ç»Ÿç®—æ³•

5. **ç¬¬äº”æ­¥**ï¼šé˜…è¯» `recommender-evaluation.ipynb`
   - å­¦ä¹ å¦‚ä½•è¯„ä¼°æ¨èç³»ç»Ÿ
   - æŒæ¡å®é™…é¡¹ç›®æŠ€èƒ½

### è¿›é˜¶è·¯å¾„

å¦‚æœä½ å·²ç»ç†Ÿæ‚‰åŸºç¡€æ¦‚å¿µï¼Œå¯ä»¥ï¼š
- ç›´æ¥å­¦ä¹  `recommender-system.ipynb` å’Œ `recommender-evaluation.ipynb`
- é‡ç‚¹å…³æ³¨æ¨¡å‹è°ƒä¼˜å’Œè¯„ä¼°æ–¹æ³•

### å®è·µè·¯å¾„

å¦‚æœä½ æƒ³å¿«é€Ÿä¸Šæ‰‹ï¼š
1. å…ˆçœ‹ `example.py` äº†è§£åŸºæœ¬ç”¨æ³•
2. é€‰æ‹©ä¸€ç§æ–¹æ³•æ·±å…¥å­¦ä¹ ï¼ˆæ¨è `item-item-cf.ipynb`ï¼‰
3. å­¦ä¹  `recommender-evaluation.ipynb` è¿›è¡Œè¯„ä¼°

---

## ğŸ¯ å­¦ä¹ å»ºè®®

1. **å¾ªåºæ¸è¿›**ï¼šæŒ‰ç…§æ¨èé¡ºåºå­¦ä¹ ï¼Œä¸è¦è·³è·ƒ
2. **åŠ¨æ‰‹å®è·µ**ï¼šæ¯ä¸ªnotebookéƒ½è¦è¿è¡Œä»£ç ï¼Œç†è§£ç»“æœ
3. **å¯¹æ¯”å­¦ä¹ **ï¼šå­¦å®Œæ‰€æœ‰æ–¹æ³•åï¼Œå¯¹æ¯”å®ƒä»¬çš„ä¼˜ç¼ºç‚¹
4. **é¡¹ç›®å®è·µ**ï¼šå°è¯•åœ¨è‡ªå·±çš„æ•°æ®é›†ä¸Šåº”ç”¨è¿™äº›æ–¹æ³•
5. **æ·±å…¥ç†è§£**ï¼šä¸ä»…è¦ä¼šç”¨ï¼Œè¿˜è¦ç†è§£åŸç†

---

## ğŸ“ æ–‡ä»¶è¯´æ˜

### Examplesç›®å½•ç»“æ„

```
examples/
â”œâ”€â”€ [0] example.py                    # å¿«é€Ÿç¤ºä¾‹ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ [1] content-based-filtering.ipynb # åŸºäºå†…å®¹æ¨è
â”œâ”€â”€ [2] user-user-cf.ipynb            # ç”¨æˆ·-ç”¨æˆ·ååŒè¿‡æ»¤
â”œâ”€â”€ [3] item-item-cf.ipynb            # ç‰©å“-ç‰©å“ååŒè¿‡æ»¤
â”œâ”€â”€ [4] recommender-system.ipynb      # çŸ©é˜µåˆ†è§£ï¼ˆå®Œæ•´ç¤ºä¾‹ï¼‰
â””â”€â”€ [5] recommender-evaluation.ipynb  # è¯„ä¼°ä¸å®é™…å®ç°
```

**æ³¨æ„ï¼š** æ–‡ä»¶åå‰çš„ `[æ•°å­—]` è¡¨ç¤ºæ¨èçš„å­¦ä¹ é¡ºåº

---

## ğŸ“Š æ–¹æ³•å¯¹æ¯”

| æ–¹æ³• | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| **åŸºäºå†…å®¹** | å¯è§£é‡Šæ€§å¼ºã€å†·å¯åŠ¨å‹å¥½ | ç‰¹å¾å·¥ç¨‹å¤æ‚ã€æ¨èå¤šæ ·æ€§æœ‰é™ | æœ‰ä¸°å¯Œç‰©å“ç‰¹å¾çš„åœºæ™¯ |
| **ç”¨æˆ·-ç”¨æˆ·CF** | å‘ç°æ½œåœ¨å…´è¶£ã€æ¨èå¤šæ · | è®¡ç®—å¤æ‚åº¦é«˜ã€å¯æ‰©å±•æ€§å·® | ç”¨æˆ·æ•°é‡è¾ƒå°‘çš„åœºæ™¯ |
| **ç‰©å“-ç‰©å“CF** | å¯æ‰©å±•æ€§å¥½ã€è§£é‡Šæ€§å¼º | å†·å¯åŠ¨é—®é¢˜ | **æœ€å¸¸ç”¨**ï¼Œå¤§å¤šæ•°æ¨èç³»ç»Ÿ |
| **çŸ©é˜µåˆ†è§£** | å¤„ç†ç¨€ç–æ•°æ®ã€å¯æ‰©å±• | å¯è§£é‡Šæ€§è¾ƒå¼± | å¤§è§„æ¨¡æ•°æ®ã€éœ€è¦åœ¨çº¿æ›´æ–° |

---

## ğŸ”§ API å‚è€ƒ

### ContentBasedRecommender

```python
ContentBasedRecommender(min_rating=0, max_rating=5, verbose=0)
```

**æ–¹æ³•ï¼š**
- `fit(X, y, item_features=None)`: è®­ç»ƒæ¨¡å‹
- `predict(X, bound_ratings=True)`: é¢„æµ‹è¯„åˆ†
- `recommend(user, amount=10, items_known=None)`: ç”Ÿæˆæ¨è

### UserUserCF

```python
UserUserCF(min_rating=0, max_rating=5, n_neighbors=50, similarity_metric='cosine', verbose=0)
```

**æ–¹æ³•ï¼š**
- `fit(X, y)`: è®­ç»ƒæ¨¡å‹
- `predict(X, bound_ratings=True)`: é¢„æµ‹è¯„åˆ†
- `recommend(user, amount=10, items_known=None)`: ç”Ÿæˆæ¨è

### ItemItemCF

```python
ItemItemCF(min_rating=0, max_rating=5, n_neighbors=50, similarity_metric='cosine', verbose=0)
```

**æ–¹æ³•ï¼š**
- `fit(X, y)`: è®­ç»ƒæ¨¡å‹
- `predict(X, bound_ratings=True)`: é¢„æµ‹è¯„åˆ†
- `recommend(user, amount=10, items_known=None)`: ç”Ÿæˆæ¨è

### KernelMF

```python
KernelMF(n_factors=100, n_epochs=100, kernel='linear', lr=0.01, reg=1, verbose=1)
```

**æ–¹æ³•ï¼š**
- `fit(X, y)`: è®­ç»ƒæ¨¡å‹
- `predict(X, bound_ratings=True)`: é¢„æµ‹è¯„åˆ†
- `update_users(X, y, lr=0.01, n_epochs=20)`: åœ¨çº¿æ›´æ–°æ–°ç”¨æˆ·
- `recommend(user, amount=10, items_known=None)`: ç”Ÿæˆæ¨è

---

## ğŸ“ å®Œæ•´å­¦ä¹ è·¯å¾„æ€»ç»“

```
å¼€å§‹å­¦ä¹ 
    â†“
[1] åŸºäºå†…å®¹çš„æ¨è
    â”œâ”€ ç†è§£æ¨èç³»ç»ŸåŸºç¡€æ¦‚å¿µ
    â”œâ”€ å­¦ä¹ ç‰¹å¾å·¥ç¨‹
    â””â”€ æŒæ¡æœ€ç®€å•çš„æ¨èæ–¹æ³•
    â†“
[2] ç”¨æˆ·-ç”¨æˆ·ååŒè¿‡æ»¤
    â”œâ”€ ç†è§£ååŒè¿‡æ»¤æ€æƒ³
    â”œâ”€ å­¦ä¹ ç›¸ä¼¼åº¦è®¡ç®—
    â””â”€ æŒæ¡åŸºäºç”¨æˆ·çš„æ¨è
    â†“
[3] ç‰©å“-ç‰©å“ååŒè¿‡æ»¤
    â”œâ”€ å­¦ä¹ æœ€å®ç”¨çš„ååŒè¿‡æ»¤æ–¹æ³•
    â”œâ”€ ç†è§£å¯æ‰©å±•æ€§
    â””â”€ æŒæ¡å·¥ç¨‹å®è·µ
    â†“
[4] çŸ©é˜µåˆ†è§£
    â”œâ”€ æ·±å…¥å­¦ä¹ ç°ä»£æ¨èç®—æ³•
    â”œâ”€ å­¦ä¹ æ½œåœ¨å› å­æ¨¡å‹
    â”œâ”€ æŒæ¡ä¸åŒæ ¸å‡½æ•°
    â””â”€ å­¦ä¹ åœ¨çº¿æ›´æ–°æœºåˆ¶
    â†“
[5] è¯„ä¼°ä¸å®é™…å®ç°
    â”œâ”€ æŒæ¡è¯„ä¼°æŒ‡æ ‡
    â”œâ”€ ç†è§£ç›¸ä¼¼åº¦åº¦é‡
    â”œâ”€ å­¦ä¹ ç¦»çº¿/åœ¨çº¿è¯„ä¼°
    â”œâ”€ è§£å†³å†·å¯åŠ¨é—®é¢˜
    â””â”€ æ„å»ºè¯„ä¼°ç®¡é“
    â†“
å®Œæˆå­¦ä¹ ï¼Œå¯ä»¥å¼€å§‹å®é™…é¡¹ç›®ï¼
```

---

## ğŸ“– å‚è€ƒèµ„æ–™

- Steffen Rendle, Lars Schmidt-Thieme. [Online-updating regularized kernel matrix factorization models for large-scale recommender systems](https://dl.acm.org/doi/10.1145/1454008.1454047)
- [MovieLens Dataset](https://grouplens.org/datasets/movielens/)

---

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ MovieLens æä¾›çš„æ•°æ®é›†ã€‚
